{"ast":null,"code":"var _jsxFileName = \"F:\\\\MiniProject\\\\New folder\\\\paymentor\\\\src\\\\Components\\\\PasswordChange.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect, useRef } from 'react'; //import { db, firestore } from '../backend/firebase'\n//import { collection, addDoc } from \"firebase/firestore\"\n\nimport { useAuth } from \"../contexts/AuthContext\";\nimport firebase from '../backend/firebase';\nimport CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PasswordChange = () => {\n  _s();\n\n  const [newURN, setnewURN] = useState(\"\");\n  const [oldpass, setoldpass] = useState(\"\");\n  const [newPassword, setnewPassword] = React.useState(\"\");\n  const [conpass, setconpass] = useState(\"\");\n  const [info, setinfo] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [Loading, setLoading] = useState(false);\n\n  const fetchData = () => {\n    const db = firebase.firestore();\n    db.collection(\"User\").get().then(querySnapshot => {\n      querySnapshot.forEach(ele => {\n        var data = ele.data();\n        setinfo(arr => [...arr, data]);\n      });\n    });\n  };\n\n  const passupdate = (newURN, oldpass) => {\n    const db = firebase.firestore();\n    db.collection(\"User\").doc(newURN).get().then(snapshot => check_validte(snapshot, newURN, oldpass));\n  };\n\n  const check_validte = (snapshot, newURN, oldpass) => {\n    const bytes = CryptoJS.AES.decrypt(snapshot.get(\"Password\"), 'my-secret-key@123');\n    const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n    console.log(decryptedData);\n\n    if (oldpass != decryptedData) {\n      alert(\"Wrong\");\n    } else if (newPassword != conpass) {\n      alert(\"typing mistake..\");\n    } else if (oldpass == decryptedData && newPassword == conpass) {\n      const ciphertext = CryptoJS.AES.encrypt(JSON.stringify(conpass), 'my-secret-key@123').toString();\n      const db = firebase.firestore();\n      db.collection(\"User\").doc(newURN).update({\n        Password: ciphertext\n      }).then(function () {\n        alert(\"Password Changes Succefully...!\");\n      }).catch(function (error) {\n        console.error(\"Error writing Value: \", error);\n      });\n    }\n  };\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true); // await signup(emailRef.current.value+\"@paymentor.com\", \"user@321\")\n      // alert(\"User added Successfully\")\n    } catch (err) {\n      alert(\"Failed\");\n      console.log(err);\n    }\n\n    setLoading(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid d-flex justify-content-evenly align-items-center flex-wrap mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-light vh d-flex flex-column justify-content-center align-items-center mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"text-danger\",\n          children: \"Change Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"d-flex justify-content-center  flex-wrap pb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mx-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"username\",\n                  children: \"URN\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"username\",\n                  id: \"username\",\n                  value: newURN,\n                  onChange: e => {\n                    setnewURN(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"username\",\n                  children: \"Old Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"username\",\n                  id: \"username\",\n                  value: oldpass,\n                  onChange: e => {\n                    setoldpass(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"password\",\n                  children: \"New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"password\",\n                  id: \"password\",\n                  value: newPassword,\n                  onChange: e => {\n                    setnewPassword(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"name\",\n                  children: \"Confirm Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"name\",\n                  id: \"name\",\n                  value: conpass,\n                  onChange: e => {\n                    setconpass(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"btn btn-primary align-self-end\",\n                name: \"submit\",\n                value: \"Submit\",\n                onClick: () => passupdate(newURN, oldpass) //disabled={Loading}\n\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(PasswordChange, \"E79r0mmSJfOVXGmhwJcNRL0or7U=\");\n\n_c = PasswordChange;\nexport default PasswordChange;\n\nvar _c;\n\n$RefreshReg$(_c, \"PasswordChange\");","map":{"version":3,"sources":["F:/MiniProject/New folder/paymentor/src/Components/PasswordChange.js"],"names":["React","useState","useEffect","useRef","useAuth","firebase","CryptoJS","PasswordChange","newURN","setnewURN","oldpass","setoldpass","newPassword","setnewPassword","conpass","setconpass","info","setinfo","error","setError","Loading","setLoading","fetchData","db","firestore","collection","get","then","querySnapshot","forEach","ele","data","arr","passupdate","doc","snapshot","check_validte","bytes","AES","decrypt","decryptedData","JSON","parse","toString","enc","Utf8","console","log","alert","ciphertext","encrypt","stringify","update","Password","catch","handleSubmit","e","preventDefault","err","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport{ useState, useEffect, useRef } from 'react'\r\n//import { db, firestore } from '../backend/firebase'\r\n//import { collection, addDoc } from \"firebase/firestore\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport firebase from '../backend/firebase'\r\nimport CryptoJS from 'crypto-js'\r\n\r\nconst PasswordChange = () => {\r\n\r\n    const[newURN,setnewURN]=useState(\"\");\r\n    const[oldpass,setoldpass]=useState(\"\");\r\n    const[newPassword,setnewPassword]=React.useState(\"\");\r\n    const[conpass,setconpass]=useState(\"\");\r\n    const[info,setinfo]=useState([]);\r\n\r\n    const [error, setError] = useState(\"\")\r\n    const [Loading, setLoading] = useState(false)\r\n\r\n    const fetchData = () =>{\r\n        const db = firebase.firestore();\r\n        db.collection(\"User\").get()\r\n        .then(querySnapshot => {\r\n            querySnapshot.forEach(ele => {\r\n                 var data = ele.data();\r\n                 setinfo(arr => [...arr,data]);\r\n            });\r\n        })\r\n    }\r\n\r\n    const passupdate = (newURN, oldpass) =>{\r\n        const db = firebase.firestore();\r\n        db.collection(\"User\").doc(newURN).get()\r\n        .then(snapshot=>\r\n            check_validte(snapshot,newURN,oldpass)\r\n            )\r\n    }\r\n\r\n    const check_validte=(snapshot,newURN,oldpass) => {\r\n        const bytes = CryptoJS.AES.decrypt(snapshot.get(\"Password\"),'my-secret-key@123');\r\n        const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n        console.log(decryptedData);\r\n    \r\n        if(oldpass != decryptedData){\r\n            alert(\"Wrong\");\r\n        }\r\n        else if(newPassword != conpass)\r\n        {\r\n            alert(\"typing mistake..\")\r\n        }\r\n        else if(oldpass == decryptedData && newPassword == conpass )\r\n        {\r\n            const ciphertext = CryptoJS.AES.encrypt(JSON.stringify(conpass),'my-secret-key@123').toString();\r\n    \r\n            const db= firebase.firestore();\r\n            db.collection(\"User\")\r\n            .doc(newURN)\r\n            .update({\r\n                   \r\n                    Password:ciphertext,\r\n                    \r\n            })\r\n            .then(function(){\r\n                alert(\"Password Changes Succefully...!\")\r\n            })\r\n            .catch(function (error) {\r\n                console.error(\"Error writing Value: \", error);\r\n              });\r\n        }\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n            \r\n            try {\r\n                setError(\"\")\r\n                setLoading(true)\r\n                // await signup(emailRef.current.value+\"@paymentor.com\", \"user@321\")\r\n                // alert(\"User added Successfully\")\r\n\r\n            } catch(err){\r\n                alert(\"Failed\")\r\n                console.log(err);\r\n            }\r\n            setLoading(false)   \r\n\r\n    }\r\n    \r\n       \r\n\r\n    return(\r\n\r\n        <>\r\n        <div className=\"container-fluid d-flex justify-content-evenly align-items-center flex-wrap mt-5\">\r\n           \r\n                <div className=\"bg-light vh d-flex flex-column justify-content-center align-items-center mt-4\">\r\n                {/* {currentUser && currentUser.email} */}\r\n                            <h6 className=\"text-danger\">Change Password</h6>\r\n\r\n                <form onSubmit={handleSubmit} className=\"d-flex justify-content-center  flex-wrap pb-5\">\r\n                    <div className=\"mx-5\">\r\n                    <div className=\"div\">\r\n                    <p><label for=\"username\">URN</label></p>\r\n                    <p><input type=\"text\" name=\"username\" id=\"username\" value={newURN}\r\n                    onChange={(e) => {\r\n                      setnewURN(e.target.value);\r\n                    }}\r\n                    /></p>\r\n                </div>\r\n                       <div className=\"div\">\r\n \r\n                            <p><label for=\"username\">Old Password</label></p>\r\n                            <p><input type=\"text\" name=\"username\" id=\"username\" value={oldpass}\r\n                                onChange={(e) => {\r\n                                    setoldpass(e.target.value);\r\n                                }}\r\n                                /></p>\r\n                        </div>\r\n                        <div className=\"div\">\r\n                            <p><label for=\"password\">New Password</label></p>\r\n                            <p><input type=\"text\" name=\"password\" id=\"password\" value={newPassword}\r\n                            onChange={(e) => {\r\n                                setnewPassword(e.target.value);\r\n                            }}\r\n                            />\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"div\">\r\n                            <p><label for=\"name\">Confirm Password</label></p>\r\n                            <p><input type=\"text\" name=\"name\" id=\"name\" value={conpass}\r\n                                onChange={(e) => {\r\n                                    setconpass(e.target.value);\r\n                                }}\r\n                                /></p>\r\n                        </div>\r\n                        <div className=\"div\">                         \r\n                        {/* <div className=\"d-flex flex-column justify-content-center align-items-start\"> */}\r\n                            <input className=\"btn btn-primary align-self-end\" name=\"submit\" value=\"Submit\"\r\n                           onClick={()=>passupdate(newURN, oldpass)} \r\n                          //disabled={Loading}\r\n                            />\r\n                             {/* <button onClick={()=>passupdate(newURN, oldpass)} >Change Password</button> <br/><br/> */}\r\n                        {/* </div> */}\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    </form>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PasswordChange"]},"metadata":{},"sourceType":"module"}